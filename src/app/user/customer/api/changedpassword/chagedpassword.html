<div class="container d-flex flex-column">
    <div class="row align-items-center justify-content-center
        min-vh-100">
      <div class="col-12 col-md-8 col-lg-4">
        <div class="card shadow-sm">
          <div class="card-header">
            <a href="/"><h1 class="tagbrandops">OPS</h1></a>
          </div>
          <div class="card-body">
            <div class="mb-4">
              <h3 class="text-center">Reset Password</h3>
              <p class="mb-2 text-center">Please enter your new password for email: {{this.apiEmail}}</p>
            </div>
            <form [formGroup]="resetpasswordform" (ngSubmit)="createResetPasswor()">
              <div class="mb-3 ">
                <label for="password" class="form-label">Password</label>
                <div class="input-group"
                    [ngClass]="{'is-invalid': resetpasswordform.controls['password'].invalid && (resetpasswordform.controls['password'].dirty || resetpasswordform.controls['password'].touched),
                    'is-valid': resetpasswordform.controls['password'].valid}"
                >
                    <input type="password" id="password" class="form-control" name="password" formControlName="password"
                        [ngClass]="{'is-invalid': resetpasswordform.controls['password'].invalid && (resetpasswordform.controls['password'].dirty || resetpasswordform.controls['password'].touched),
                        'is-valid': resetpasswordform.controls['password'].valid}"
                        [type]="!showPS1 ? 'password' : 'text'" (ngModelChange)="passwordRepeated()"
                    required="">
                    <button type="button" class="btn btn-outline-secondary" (click)="showPassword('1')" >
                        <i class="bi bi-eye" *ngIf="!showPS1"></i>
                        <i class="bi bi-eye-slash" *ngIf="showPS1"></i>
                    </button>
                </div>
                <div class="invalid-feedback alert alert-danger mt-3 inputcustops">
                    <div *ngIf="password.errors?.['required']">
                        <i class="bi bi-exclamation-octagon"></i>
                        Password is required.
                    </div>
                    <div *ngIf="password.errors?.['minlength']">
                        <i class="bi bi-exclamation-octagon"></i>
                         Password shouldn't be less than 6 words.
                    </div>
                    <div *ngIf="password.errors?.['strongNumber']">
                        <i class="bi bi-exclamation-octagon"></i>
                         Password should contain at least 1 number.
                    </div>
                    <div *ngIf="password.errors?.['strongUpper']">
                        <i class="bi bi-exclamation-octagon"></i>
                         Password should contain at least 1 uppercase.
                    </div>
                </div>

              </div>
              <div class="mb-3">
                <label for="repeatpassword" class="form-label">Repeat Password</label>
                <div class="input-group"
                    [ngClass]="{'is-invalid': (resetpasswordform.controls['repeatpassword'].valid && this.equals === 'false') || resetpasswordform.controls['repeatpassword'].invalid && (resetpasswordform.controls['repeatpassword'].dirty || resetpasswordform.controls['repeatpassword'].touched),
                    'is-valid': resetpasswordform.controls['repeatpassword'].valid && this.equals === 'true'}" 
                >
                    <input type="password" id="repeatpassword" class="form-control" name="repeatpassword" formControlName="repeatpassword"
                        [ngClass]="{'is-invalid': (resetpasswordform.controls['repeatpassword'].valid && this.equals === 'false') || resetpasswordform.controls['repeatpassword'].invalid && (resetpasswordform.controls['repeatpassword'].dirty || resetpasswordform.controls['repeatpassword'].touched),
                        'is-valid': resetpasswordform.controls['repeatpassword'].valid && this.equals === 'true'}" 
                        [type]="!showPS2 ? 'password' : 'text'" (ngModelChange)="passwordRepeated()"
                    required="">
                    <button type="button" class="btn btn-outline-secondary" (click)="showPassword('2')" >
                        <i class="bi bi-eye" *ngIf="!showPS2"></i>
                        <i class="bi bi-eye-slash" *ngIf="showPS2"></i>
                    </button>
                </div>    
                <div class="invalid-feedback alert alert-danger mt-3 inputcustops">
                    <div *ngIf="repeatpassword.errors?.['required']">
                        <i class="bi bi-exclamation-octagon"></i>
                        Repeat your password is required.
                    </div>
                    <div *ngIf="this.equals === 'false'">
                        <i class="bi bi-exclamation-octagon"></i>
                         Your password is not match.
                    </div>
                </div>
                
              </div>
              <div class="mb-3 d-grid">
                <button type="submit" class="btn btn-primary cusopssub">
                  Reset Password
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>